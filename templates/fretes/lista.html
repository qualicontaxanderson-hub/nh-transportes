<thead style="background:#4A90E2;color:#000;font-weight:700;">
    <tr>
        <th>ID</th>
        <th>Data</th>
        <th>Cliente</th>
        <th>Fornecedor</th>
        <th>Motorista</th>
        <th>Veículo</th>
        <th>Quantidade</th>
        <th>Origem</th>
        <th>Destino</th>
        <th>Valor Total</th>
        <th>Lucro</th>
        <th>Status</th>
        <th>Ações</th>
    </tr>
</thead>
<tbody>
    {% for frete in fretes %}
    <tr>
        <td>{{ frete.id }}</td>
        <td>
            {% if frete.data_frete %}
                {{ frete.data_frete.strftime('%d/%m/%Y') }}
            {% else %}
                -
            {% endif %}
        </td>
        <td>{{ frete.clientes_id or '-' }}</td>
        <td>{{ frete.fornecedores_id or '-' }}</td>
        <td>{{ frete.motoristas_id or '-' }}</td>
        <td>{{ frete.veiculos_id or '-' }}</td>
        <td>{{ frete.quantidade_id or '-' }}</td>
        <td>{{ frete.origem_id or '-' }}</td>
        <td>{{ frete.destino_id or '-' }}</td>
        <td style="text-align:right;">
            {{ "R$ {:,.2f}".format(frete.valor_total_frete|float if frete.valor_total_frete else 0).replace(",", "X").replace(".", ",").replace("X", ".") }}
        </td>
        <td style="text-align:right;">
            {{ "R$ {:,.2f}".format(frete.lucro|float if frete.lucro else 0).replace(",", "X").replace(".", ",").replace("X", ".") }}
        </td>
        <td>
            <span class="badge 
              {% if frete.status == 'pago' %}bg-success
              {% elif frete.status == 'em_transito' %}bg-warning text-dark
              {% elif frete.status == 'entregue' %}bg-info text-dark
              {% elif frete.status == 'cancelado' %}bg-danger
              {% else %}bg-secondary{% endif %}">
                {{ frete.status or 'N/A' }}
            </span>
        </td>
        <td>
            {# Link de edição, somente se tiver a rota fretes.editar #}
            <!-- <a href="{{ url_for('fretes.editar', id=frete.id) }}" class="btn btn-sm btn-warning">
                <i class="bi bi-pencil"></i>
            </a> -->
            <form method="POST" action="{{ url_for('fretes.deletar', id=frete.id) }}" style="display: inline;" onsubmit="return confirm('Tem certeza que deseja excluir este frete?');">
                <button type="submit" class="btn btn-sm btn-danger">
                    <i class="bi bi-trash"></i>
                </button>
            </form>
        </td>
    </tr>
    {% else %}
    <tr>
        <td colspan="13" class="text-center text-muted py-4">
            <i class="bi bi-inbox" style="font-size:2rem;"></i><br>
            Nenhum frete encontrado
        </td>
    </tr>
    {% endfor %}
</tbody>
